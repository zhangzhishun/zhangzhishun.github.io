<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>以太坊源码分析-黄皮书里面出现的所有的符号索引</title><meta name="robots" content="noindex"><meta name="description" content="Blockchain knowledge record blog"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><script>var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "//hm.baidu.com/hm.js?" + 'e574a92bc4bac2e317309d7ea1dfcb71';
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(hm, s);
})();</script><!-- End Baidu Analytics --><link rel="icon" href="/images/system/head_portrait.jpg"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="

是t+1时刻的状态(account trie)。
是状态转换函数，也可以理解为执行引擎。
 是transaction，一次交易。

  是区块级别的状态转换函数。
  是区块，由很多交易组成。
  0号位置的交易。
 是块终结状态转换函数（一个奖励挖矿者的函数）。
 Ether的标识。
 Ethereum中所用到的各种单位与Wei的换算关系（例如：一个Finney对应10^15个Wei）。
 machine-state
一些基本的规则
对于大多数的函数来说，都用大写字母来标识。
元组一般用大写字母来标识
标量或者固定大小的字节数组都用小写字母标识。 比如 n 代表交易的nonce， 有一些可能有例外，比如δ代表 一个给定指令需要的堆栈数据的多少。
变长的字节数组一般用加粗的小写字母。 比如 o 代表一个.."><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Sugar's blog" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Sugar's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">以太坊源码分析-黄皮书里面出现的所有的符号索引</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3><h3 class="is-inline-block"><a href="/works">Works</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3><h3 class="is-inline-block"><a href="/works">Works</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-text">一些基本的规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E6%98%93"><span class="toc-text">交易</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BA%E5%9D%97%E5%A4%B4"><span class="toc-text">区块头</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E6%89%A7"><span class="toc-text">回执</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E6%98%93%E6%89%A7%E8%A1%8C"><span class="toc-text">交易执行</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/Ethereum"><i class="tag post-item-tag">Ethereum</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">以太坊源码分析-黄皮书里面出现的所有的符号索引</h1><time class="has-text-grey" datetime="2021-05-17T02:29:15.000Z">2021-05-17</time><article class="mt-2 post-content"><p><img src="/images/ethereum/source_analysis/arch.jpg" alt="image"></p>
<p><img src="/images/ethereum/source_analysis/sign_state_1.png" alt="image"></p>
<p><img src="/images/ethereum/source_analysis/sign_state_3.png" alt="image">是t+1时刻的状态(account trie)。</p>
<p><img src="/images/ethereum/source_analysis/sign_state_4.png" alt="image">是状态转换函数，也可以理解为执行引擎。</p>
<p><img src="/images/ethereum/source_analysis/sign_state_5.png" alt="image"> 是transaction，一次交易。</p>
<p><img src="/images/ethereum/source_analysis/sign_state_6.png" alt="image"></p>
<p><img src="/images/ethereum/source_analysis/sign_state_7.png" alt="image">  是区块级别的状态转换函数。</p>
<p><img src="/images/ethereum/source_analysis/sign_state_8.png" alt="image">  是区块，由很多交易组成。</p>
<p><img src="/images/ethereum/source_analysis/sign_state_9.png" alt="image">  0号位置的交易。</p>
<p><img src="/images/ethereum/source_analysis/sign_state_10.png" alt="image"> 是块终结状态转换函数（一个奖励挖矿者的函数）。</p>
<p><img src="/images/ethereum/source_analysis/sign_ether.png" alt="image"> Ether的标识。</p>
<p><img src="/images/ethereum/source_analysis/sign_ether_value.png" alt="image"> Ethereum中所用到的各种单位与Wei的换算关系（例如：一个Finney对应10^15个Wei）。</p>
<p><img src="/images/ethereum/source_analysis/sign_machine_state.png" alt="image"> machine-state</p>
<h2 id="一些基本的规则"><a href="#一些基本的规则" class="headerlink" title="一些基本的规则"></a>一些基本的规则</h2><ul>
<li>对于大多数的函数来说，都用大写字母来标识。</li>
<li>元组一般用大写字母来标识</li>
<li>标量或者固定大小的字节数组都用小写字母标识。 比如 n 代表交易的nonce， 有一些可能有例外，比如δ代表 一个给定指令需要的堆栈数据的多少。</li>
<li>变长的字节数组一般用加粗的小写字母。 比如 <strong>o</strong> 代表一个message call的输出数据。对于某些重要的也可能使用加粗的大写字母</li>
</ul>
<p><img src="/images/ethereum/source_analysis/sign_set_b.png" alt="image"> 字节序列<br><img src="/images/ethereum/source_analysis/sign_set_p.png" alt="image"> 正整数<br><img src="/images/ethereum/source_analysis/sign_set_b32.png" alt="image"> 32字节长度的字节序列<br><img src="/images/ethereum/source_analysis/sign_set_p256.png" alt="image"> 小于 2^256 的正整数<br><strong>[ ]</strong> 用于索引数组里面的对应元素<br><img src="/images/ethereum/source_analysis/sign_stack.png" alt="image"> 代表机器堆栈(machine’s stack)的第一个对象<br><img src="/images/ethereum/source_analysis/sign_memory.png" alt="image"> 代表了机器内存(machine’s memory)里面的前32个元素<br><img src="/images/ethereum/source_analysis/sign_placeholder_1.png" alt="image"> 一个占位符号，可以是任意字符代表任意对象</p>
<p><img src="/images/ethereum/source_analysis/sign_placeholder_2.png" alt="image"> 代表这个对象被修改后的值<br><img src="/images/ethereum/source_analysis/sign_placeholder_3.png" alt="image"> 中间状态<br><img src="/images/ethereum/source_analysis/sign_placeholder_4.png" alt="image"> 中间状态2<br><img src="/images/ethereum/source_analysis/sign_func_1.png" alt="image"> <img src="/images/ethereum/source_analysis/sign_func_2.png" alt="image"> 如果前面的f代表了一个函数， 那么后面的f*代表了一个相似的函数，不过是对内部的元素依次执行f的一个函数。</p>
<p><img src="/images/ethereum/source_analysis/sign_last_item.png" alt="image">  代表了列表里面的最后一个元素<br><img src="/images/ethereum/source_analysis/sign_last_item_1.png" alt="image">  代表了列表里面的最后一个元素<br><img src="/images/ethereum/source_analysis/sign_seq_item.png" alt="image">   求x的长度</p>
<p><img src="/images/ethereum/source_analysis/sign_state_nonce.png" alt="image">  a代表某个地址，代表某个账号的nonce<br><img src="/images/ethereum/source_analysis/sign_state_balance.png" alt="image"> banlance 余额<br><img src="/images/ethereum/source_analysis/sign_state_root.png" alt="image">   storage trie 的 root hash<br><img src="/images/ethereum/source_analysis/sign_state_code.png" alt="image"> Code的hash。 如果code是b 那么KEC(b)===这个hash</p>
<p><img src="/images/ethereum/source_analysis/sign_l1.png" alt="image"></p>
<p><img src="/images/ethereum/source_analysis/sign_ls.png" alt="image">  world state collapse function<br><img src="/images/ethereum/source_analysis/sign_pa.png" alt="image"></p>
<p><img src="/images/ethereum/source_analysis/sign_math_any.png" alt="image">  任意的 any<br><img src="/images/ethereum/source_analysis/sign_math_or.png" alt="image">   并集 or<br><img src="/images/ethereum/source_analysis/sign_math_and.png" alt="image">  交集 and</p>
<p><img src="/images/ethereum/source_analysis/sign_homestead.png" alt="image"> Homestead</p>
<h2 id="交易"><a href="#交易" class="headerlink" title="交易"></a>交易</h2><p><img src="/images/ethereum/source_analysis/sign_t_nonce.png" alt="image"> 交易的nonce<br><img src="/images/ethereum/source_analysis/sign_t_gasprice.png" alt="image"> gasPrice<br><img src="/images/ethereum/source_analysis/sign_t_gaslimit.png" alt="image"> gasLimit<br><img src="/images/ethereum/source_analysis/sign_t_to.png" alt="image"> to<br><img src="/images/ethereum/source_analysis/sign_t_value.png" alt="image"> value</p>
<p><img src="/images/ethereum/source_analysis/sign_t_w.png" alt="image"><img src="/images/ethereum/source_analysis/sign_t_tr.png" alt="image"><img src="/images/ethereum/source_analysis/sign_t_ts.png" alt="image">通过者三个值可以得到sender的地址</p>
<p><img src="/images/ethereum/source_analysis/sign_t_ti.png" alt="image"> 合约的初始化代码<br><img src="/images/ethereum/source_analysis/sign_t_data.png" alt="image"> 方法调用的入参<br><img src="/images/ethereum/source_analysis/sign_t_lt.png" alt="image"></p>
<h2 id="区块头"><a href="#区块头" class="headerlink" title="区块头"></a>区块头</h2><p><img src="/images/ethereum/source_analysis/sign_h_p.png" alt="image">ParentHash<br><img src="/images/ethereum/source_analysis/sign_h_o.png" alt="image">OmmersHash<br><img src="/images/ethereum/source_analysis/sign_h_c.png" alt="image">beneficiary矿工地址<br><img src="/images/ethereum/source_analysis/sign_h_r.png" alt="image">stateRoot<br><img src="/images/ethereum/source_analysis/sign_h_t.png" alt="image">transactionRoot<br><img src="/images/ethereum/source_analysis/sign_h_e.png" alt="image">receiptRoot<br><img src="/images/ethereum/source_analysis/sign_h_b.png" alt="image">logsBloom<br><img src="/images/ethereum/source_analysis/sign_h_d.png" alt="image">难度<br><img src="/images/ethereum/source_analysis/sign_h_i.png" alt="image">number高度<br><img src="/images/ethereum/source_analysis/sign_h_l.png" alt="image">gasLimit<br><img src="/images/ethereum/source_analysis/sign_h_g.png" alt="image">gasUsed<br><img src="/images/ethereum/source_analysis/sign_h_s.png" alt="image">timestamp<br><img src="/images/ethereum/source_analysis/sign_h_x.png" alt="image">extraData<br><img src="/images/ethereum/source_analysis/sign_h_m.png" alt="image">mixHash<br><img src="/images/ethereum/source_analysis/sign_h_n.png" alt="image">nonce</p>
<h2 id="回执"><a href="#回执" class="headerlink" title="回执"></a>回执</h2><p><img src="/images/ethereum/source_analysis/sign_r_i.png" alt="image"> 第i个交易的receipt</p>
<p><img src="/images/ethereum/source_analysis/sign_receipt.png" alt="image"><br><img src="/images/ethereum/source_analysis/sign_r_state.png" alt="image"> 交易执行后的world-state<br><img src="/images/ethereum/source_analysis/sign_r_gasused.png" alt="image">交易执行后区块总的gas使用量<br><img src="/images/ethereum/source_analysis/sign_r_bloom.png" alt="image">本交易执行产生的所有log的布隆过滤数据<br><img src="/images/ethereum/source_analysis/sign_r_log.png" alt="image">交易产生的日志集合</p>
<p><img src="/images/ethereum/source_analysis/sign_r_logentry.png" alt="image"> Log entry Oa日志产生的地址， Ot topic Od 时间</p>
<h2 id="交易执行"><a href="#交易执行" class="headerlink" title="交易执行"></a>交易执行</h2><p><img src="/images/ethereum/source_analysis/sign_substate_a.png" alt="image"> substate<br><img src="/images/ethereum/source_analysis/sign_substate_as.png" alt="image"> suicide set<br><img src="/images/ethereum/source_analysis/sign_substate_al.png" alt="image"> log series<br><img src="/images/ethereum/source_analysis/sign_substate_ar.png" alt="image"> refund balance</p>
<p><img src="/images/ethereum/source_analysis/sign_gas_total.png" alt="image"> 交易过程中使用的总gas数量。<br><img src="/images/ethereum/source_analysis/sign_gas_log.png" alt="image">     交易产生的日志。</p>
<p><img src="/images/ethereum/source_analysis/sign_i_a.png" alt="image"> 执行代码的拥有者<br><img src="/images/ethereum/source_analysis/sign_i_o.png" alt="image"> 交易的发起者<br><img src="/images/ethereum/source_analysis/sign_i_p.png" alt="image"> gasPrice<br><img src="/images/ethereum/source_analysis/sign_i_d.png" alt="image"> inputdata<br><img src="/images/ethereum/source_analysis/sign_i_s.png" alt="image"> 引起代码执行的地址，如果是交易那么是交易的发起人<br><img src="/images/ethereum/source_analysis/sign_i_v.png" alt="image"> value<br><img src="/images/ethereum/source_analysis/sign_i_b.png" alt="image"> 需要执行的代码<br><img src="/images/ethereum/source_analysis/sign_i_h.png" alt="image"> 当前的区块头<br><img src="/images/ethereum/source_analysis/sign_i_e.png" alt="image"> 当前的调用深度</p>
<p><img src="/images/ethereum/source_analysis/sign_exec_model.png" alt="image"> 执行模型 s suicide set; l 日志集合 <strong>o</strong> 输出 ; r refund</p>
<p><img src="/images/ethereum/source_analysis/sign_exec_func.png" alt="image"> 执行函数</p>
<p><img src="/images/ethereum/source_analysis/sign_m_g.png" alt="image"> 当前可用的gas<br><img src="/images/ethereum/source_analysis/sign_u_pc.png" alt="image"> 程序计数器<br><img src="/images/ethereum/source_analysis/sign_u_m.png" alt="image"> 内存内容<br><img src="/images/ethereum/source_analysis/sign_u_i.png" alt="image"> 内存中有效的word数量<br><img src="/images/ethereum/source_analysis/sign_u_s.png" alt="image"> 堆栈内容</p>
<p><img src="/images/ethereum/source_analysis/sign_m_w.png" alt="image"> w代表当前需要执行的指令</p>
<p><img src="/images/ethereum/source_analysis/sign_stack_removed.png" alt="image"> 指令需要移除的堆栈对象个数<br><img src="/images/ethereum/source_analysis/sign_stack_added.png" alt="image"> 指令需要增加的堆栈对象个数</p>
<!-- flag of hidden posts --></article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><em></em></section><article class="mt-6 comment-container"><script async repo="zhangzhishun/blockchain-blog-comment" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/zhang_zhishun"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/zhangzhishun"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/atom.xml"><i class="iconfont icon-rss"></i></a><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> Sugar 2022</span></p><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>